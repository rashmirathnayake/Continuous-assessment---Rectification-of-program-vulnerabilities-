#include <stdio.h>
#include <string.h>

void vulnerableFunction()
{
    char buffer[16];
    void (*functionPointer)(); // Function pointer with no initial value

    printf("Enter some text: ");
    gets(buffer); // Unsafe function, no bounds checking

    // Function pointer used to call a function
    if (functionPointer)
    {
        printf("Executing function at functionPointer...\n");
        functionPointer(); // Executes the function at the address in functionPointer
    }
    else
    {
        printf("No function to execute.\n");
    }
}

void secretFunction()
{
    printf("Secret function accessed! This could be malicious code.\n");
}

int main()
{
    vulnerableFunction();
    return 0;
}